<?phpnamespace FloBundle\Repository;use Symfony\Component\HttpFoundation\Request;/** * CategorieRepository * * This class was generated by the Doctrine ORM. Add your own custom * repository methods below. */class CategorieRepository extends \Doctrine\ORM\EntityRepository{    public function getModeleByCateg($categ){        $request = Request::createFromGlobals();        $path = $request->getPathInfo();        if ($path != '/fictions') {            $sql = 'SELECT * FROM categorie JOIN modele ON categorie.id = modele.categorie_id JOIN image ON image.id = modele.image_id WHERE nom = :categ';            $params = array(                'categ' => $categ,            );        }        else {            $sql = 'SELECT * FROM categorie JOIN modele ON categorie.id = modele.categorie_id JOIN image ON image.id = modele.image_id WHERE nom = :categ ORDER BY modele.id DESC';            $params = array(                'categ' => $categ,            );        }        return $this->getEntityManager()->getConnection()->executeQuery($sql, $params)->fetchAll();    }}